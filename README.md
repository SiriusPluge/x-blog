# X-Blog
### X-Blog это бэкэнд для сайта, на котором можно постить влоги, статьи и книги. Имеются 3 вида пользователей:
- который может читать статьи и книги только доступные для гостя;
- зарегистрированный пользователь, который может писать статьи, публиковать книги и т.д.;
- администратор, который модерирует сайт, может скрывать и удалять статьи, а также пользователей, если поститься запрещенный контент.

Чтобы запустить проект необходимо открыть терминал:
- ``` перейти в нужную директорию (cd ...) ```
- ``` git clone git@github.com:SiriusPluge/x-blog.git ```
- Также необходимо после клонирования проекта в корне создать файл .env и в первой же строчке вставить указанный пароль:
```
POSTGRES_PASSWORD=1q2w3e4r5t
```
- ``` docker-compose up ```

Чтобы остановить работу сервера и БД:

- ``` docker-compose down ```



## Какие имеются хендлеры для тестировани запросов?

1) POST запрос ```"http://localhost:8081/api/sign-up", h.SignUp)``` - Регистрация пользователя:
    - Параметры которые можно передать в теле запроса в формате JSON:
        ```
        {
            "email": "test",
            "password": "test",
            "first_name": "test",
            "last_name": "test",
            "brithday": "01.01.2021",
	        "gender": "t"
            "position": "qa"
        }
        ``` 
2) POST запрос ```"http://localhost:8081/api/sign-in"``` - Аунтетификация пользователя:
    - Параметры которые можно передать в теле запроса в формате JSON:
        ```
        {
            "email": "test",
            "password": "test"
        }
        ``` 
3) POST запрос ```"http://localhost:8081/api/post/create"``` - Создать статью:
    - Параметры которые можно передать в теле запроса в формате JSON:
        ```
        {
            "title": "test2",
            "content_text": "2"
        }
        ``` 
4) GET запрос ```"http://localhost:8081/api/post/id"``` - Посмотреть статью

5) PUT запрос ```"http://localhost:8081/api/post/id"``` - Редактировать статью:
     - Параметры которые можно передать в теле запроса в формате JSON:
        ```
        {
            "title": "test",
            "content_text": "test"
        }
        ``` 
6) DELETE запрос ```"http://localhost:8081/api/post/id"``` - Удалить статью

7) PUT запрос ```"http://localhost:8081/api/post/like/add/id"``` - Лайкнуть статью

8) PUT запрос ```"http://localhost:8081/api/post/like/remove/id"``` - Удалить лайк

9) PUT запрос ```"http://localhost:8081/api/post/favorites/add/id"``` - Добавить в избранное

10) PUT запрос ```"http://localhost:8081/api/post/favorites/remove/id"``` - Убрать из избранного	
			
11) GET запрос ```"http://localhost:8081/api/user/id"``` - Показать страницу пользователя
			
12) DELETE запос ```"http://localhost:8081/api/user/10"``` - Удалить пользователя

Кроме того, прилагаю к проекту коллекцию запросов для Postman.

Также в проекте реализовано unit-тестирование слоя Service с использованием моков, табличных тестов.

В свободное время в проект будут вноситься правки и дополняться контентом.